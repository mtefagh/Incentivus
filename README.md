# Welcome to _Project Incentivus_!

**Project Incentivus** is a new research initiative aiming to explore convex optimization applications to the incentive layer of blockchain protocols.

This interdisciplinary effort started from an earlier [work](https://ethresear.ch/t/draft-position-paper-on-resource-pricing/2838/24?u=mtefagh) on [EIP 1559](https://ethereum-magicians.org/t/eip-1559-fee-market-change-for-eth-1-0-chain/2783/24?u=mtefagh). In summary, this EIP suggests an alternative to the current first-price auction transaction fee market. In this scheme, all of the transactions in a block share a universal fee; however, this fee is dynamically updated across different blocks according to a predetermined in-protocol formula. We started to look at a question relevant to all users: _what is the optimal policy to pay the minimum fee for executing a set of transactions?_ Such problems have long been investigated in economics and are frequently solved by convex optimization. In this case, the optimal policy turned out to be too optimal and could be considered an [attack](https://nbviewer.jupyter.org/github/mtefagh/fee/blob/master/fee.ipynb) in the sense that controlling the allocation of a small fraction of the total volume of transactions is enough to manipulate the price and make it zero in a short time.

Moreover, instead of searching for the optimal behavior given a specific protocol design, we can turn such arguments around to engineer user behaviors by setting the right incentives. A simple observation is that the transaction fee pricing problem is similar in many aspects to the liquidation strategies in economics. In the former case, we want to execute many transactions, but each time we do so, the price of executing the next transaction goes up. In the latter case, we want to sell our assets, but each time we do so, the trading price goes down. An established model for the second problem is the [Almgrenâ€“Chriss](https://github.com/zcash/zcash/issues/3473#issuecomment-479625462) framework, which guarantees that the optimal execution of transaction strategy is to spread the transactions across time which in turn helps to avoid network congestion for blockchains. Overall, we believe that although such use cases of convex optimization are exploited extensively in game theory, they have not transitioned to the blockchain ecosystem yet.

## Transaction fee pricing as a special case of matching logic

A simple observation is that the problem of specifying the right _equilibrium price_ (EP) for transaction fees is a particular instance of the more general problem of determining the EP in a DEX matching engine. In this analogy, a single seller, which is the group of validators, is selling the block size amount of space to a large number of buyers, which are the user transactions. A continuous matching engine results in the first-price auction and a discrete one gives the second-price auction for the fee market.

In order to show this, consider the steps in [this article](https://docs.binance.org/match-examples.html). Step 0  corresponds to the case of mining an empty block. Step 1 corresponds to choosing a price which fills up the block. Step 2 corresponds to choosing the EP in a way that if the transactions associated to the **n** highest bids fill up the block, then EP must be chosen between the **n** and **n+1** bids. If we assume that the number of bids is large enough such that the **n** and **n+1** bids are close enough, this already gives the second-price auction, and the steps 3 and 4 are irrelevant.

### The same problem in both cases

The Binance DEX has given numerous warnings regarding the aggressive orders in very volatile or illiquid markets. The problem is that it might be the case that one can even profit from selling less amount. This problem is precisely the same as when in second-price auctions a miner may profit from forging fake transactions in order to shrink the available block size. In both cases, the significant change in the final price makes up for the lesser quantity that one sells. 
